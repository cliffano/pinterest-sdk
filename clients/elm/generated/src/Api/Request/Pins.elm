{-
   Pinterest REST API
   Pinterest's REST API

   The version of the OpenAPI document: 5.3.0
   Contact: blah@cliffano.com

   NOTE: This file is auto generated by the openapi-generator.
   https://github.com/openapitools/openapi-generator.git

   DO NOT EDIT THIS FILE MANUALLY.

   For more info on generating Elm code, see https://eriktim.github.io/openapi-elm/
-}


module Api.Request.Pins exposing
    ( pinsAnalytics, MetricTypes(..), metricTypesVariants, AppTypes(..), appTypesVariants, SplitField(..), splitFieldVariants
    , pinsCreate
    , pinsDelete
    , pinsGet
    )

import Api
import Api.Data
import Api.Time exposing (Posix)
import Dict
import Http
import Json.Decode
import Json.Encode


type MetricTypes
    = MetricTypesIMPRESSION
    | MetricTypesSAVE
    | MetricTypesPINCLICK
    | MetricTypesOUTBOUNDCLICK
    | MetricTypesVIDEOMRCVIEW
    | MetricTypesVIDEOAVGWATCHTIME
    | MetricTypesVIDEOV50WATCHTIME
    | MetricTypesQUARTILE95PERCENTVIEW


metricTypesVariants : List MetricTypes
metricTypesVariants =
    [ MetricTypesIMPRESSION
    , MetricTypesSAVE
    , MetricTypesPINCLICK
    , MetricTypesOUTBOUNDCLICK
    , MetricTypesVIDEOMRCVIEW
    , MetricTypesVIDEOAVGWATCHTIME
    , MetricTypesVIDEOV50WATCHTIME
    , MetricTypesQUARTILE95PERCENTVIEW
    ]


stringFromMetricTypes : MetricTypes -> String
stringFromMetricTypes model =
    case model of
        MetricTypesIMPRESSION ->
            "IMPRESSION"

        MetricTypesSAVE ->
            "SAVE"

        MetricTypesPINCLICK ->
            "PIN_CLICK"

        MetricTypesOUTBOUNDCLICK ->
            "OUTBOUND_CLICK"

        MetricTypesVIDEOMRCVIEW ->
            "VIDEO_MRC_VIEW"

        MetricTypesVIDEOAVGWATCHTIME ->
            "VIDEO_AVG_WATCH_TIME"

        MetricTypesVIDEOV50WATCHTIME ->
            "VIDEO_V50_WATCH_TIME"

        MetricTypesQUARTILE95PERCENTVIEW ->
            "QUARTILE_95_PERCENT_VIEW"




type AppTypes
    = AppTypesALL
    | AppTypesMOBILE
    | AppTypesTABLET
    | AppTypesWEB


appTypesVariants : List AppTypes
appTypesVariants =
    [ AppTypesALL
    , AppTypesMOBILE
    , AppTypesTABLET
    , AppTypesWEB
    ]


stringFromAppTypes : AppTypes -> String
stringFromAppTypes model =
    case model of
        AppTypesALL ->
            "ALL"

        AppTypesMOBILE ->
            "MOBILE"

        AppTypesTABLET ->
            "TABLET"

        AppTypesWEB ->
            "WEB"




type SplitField
    = SplitFieldNOSPLIT
    | SplitFieldAPPTYPE


splitFieldVariants : List SplitField
splitFieldVariants =
    [ SplitFieldNOSPLIT
    , SplitFieldAPPTYPE
    ]


stringFromSplitField : SplitField -> String
stringFromSplitField model =
    case model of
        SplitFieldNOSPLIT ->
            "NO_SPLIT"

        SplitFieldAPPTYPE ->
            "APP_TYPE"





{-| Get analytics for a Pin owned by the \"operation user_account\" - or on a group board that has been shared with this account. - By default, the \"operation user_account\" is the token user_account.  Optional: Business Access: Specify an <code>ad_account_id</code> (obtained via <a href=\"https://developers.pinterest.com/docs/api/v5/#operation/ad_accounts/list\">List ad accounts</a>) to use the owner of that ad_account as the \"operation user_account\". In order to do this, the token user_account must have one of the following <a href=\"https://help.pinterest.com/en/business/article/share-and-manage-access-to-your-ad-accounts\">Business Access</a> roles on the ad_account:  - For Pins on public or protected boards: Admin, Analyst. - For Pins on secret boards: Admin.
-}
pinsAnalytics : String -> Posix -> Posix -> List MetricTypes -> Maybe AppTypes -> Maybe SplitField -> Maybe String -> Api.Request (Dict.Dict String Api.Data.AnalyticsMetricsResponse)
pinsAnalytics pinId_path startDate_query endDate_query metricTypes_query appTypes_query splitField_query adAccountId_query =
    Api.request
        "GET"
        "/pins/{pin_id}/analytics"
        [ ( "pinId", identity pinId_path ) ]
        [ ( "start_date", Just <| Api.Time.dateToString startDate_query ), ( "end_date", Just <| Api.Time.dateToString endDate_query ), ( "app_types", Maybe.map stringFromAppTypes appTypes_query ), ( "metric_types", Just <| String.join "," << List.map stringFromMetricTypes metricTypes_query ), ( "split_field", Maybe.map stringFromSplitField splitField_query ), ( "ad_account_id", Maybe.map identity adAccountId_query ) ]
        []
        Nothing
        (Json.Decode.dict Api.Data.analyticsMetricsResponseDecoder)



{-| Create a Pin on a board or board section owned by the \"operation user_account\".  Note: If the current \"operation user_account\" (defined by the access token) has access to another user's Ad Accounts via Pinterest Business Access, you can modify your request to make use of the current operation_user_account's permissions to those Ad Accounts by including the ad_account_id in the path parameters for the request (e.g. .../?ad_account_id=12345&...).  - This function is intended solely for publishing new content created by the user. If you are interested in saving content created by others to your Pinterest boards, sometimes called 'curated content', please use our <a href='/docs/add-ons/save-button'>Save button</a> instead. For more tips on creating fresh content for Pinterest, review our <a href='/docs/solutions/content-apps'>Content App Solutions Guide</a>.  <strong><a href='/docs/solutions/content-apps/#creatingvideopins'>Learn more</a></strong> about video Pin creation.
-}
pinsCreate : Api.Data.Pin -> Api.Request Api.Data.Pin
pinsCreate pin_body =
    Api.request
        "POST"
        "/pins"
        []
        []
        []
        (Just (Api.Data.encodePin pin_body))
        Api.Data.pinDecoder



{-| Delete a Pins owned by the \"operation user_account\" - or on a group board that has been shared with this account. - By default, the \"operation user_account\" is the token user_account.
-}
pinsDelete : String -> Api.Request ()
pinsDelete pinId_path =
    Api.request
        "DELETE"
        "/pins/{pin_id}"
        [ ( "pinId", identity pinId_path ) ]
        []
        []
        Nothing
        (Json.Decode.succeed ())



{-| Get a Pin owned by the \"operation user_account\" - or on a group board that has been shared with this account. - By default, the \"operation user_account\" is the token user_account.  Optional: Business Access: Specify an <code>ad_account_id</code> (obtained via <a href='/docs/api/v5/#operation/ad_accounts/list'>List ad accounts</a>) to use the owner of that ad_account as the \"operation user_account\". In order to do this, the token user_account must have one of the following <a href=\"https://help.pinterest.com/en/business/article/share-and-manage-access-to-your-ad-accounts\">Business Access</a> roles on the ad_account:  - For Pins on public or protected boards: Owner, Admin, Analyst, Campaign Manager. - For Pins on secret boards: Owner, Admin.
-}
pinsGet : String -> Maybe String -> Api.Request Api.Data.Pin
pinsGet pinId_path adAccountId_query =
    Api.request
        "GET"
        "/pins/{pin_id}"
        [ ( "pinId", identity pinId_path ) ]
        [ ( "ad_account_id", Maybe.map identity adAccountId_query ) ]
        []
        Nothing
        Api.Data.pinDecoder
